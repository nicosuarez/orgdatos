\documentclass[12pt]{article}

%------------------------- Carga de paquetes ---------------------------
%
% Si no necesitás algún paquete, comentalo.
%

%
% Definición del tama?o de página y los márgenes:
%
\usepackage[a4paper,headheight=16pt,scale={0.7,0.75},hoffset=0.5cm,voffset=0.5cm]{geometry}

%
% Vamos a escribir en castellano:
%
\usepackage[spanish]{babel}
\usepackage[latin1]{inputenc}

%
% Si preferís el tipo de letra Helvetica (Arial), descomentá las siguientes
% dos lineas (las fórmulas seguirán estando en Times):
%
%\usepackage[scaled=0.9]{helvet}
%\renewcommand\familydefault{\sfdefault}

%
% El paquete amsmath agrega algunas funcionalidades extra a las fórmulas. 
% Además defino la numeración de las tablas y figuras al estilo "Figura 2.3", 
% en lugar de "Figura 7". (Por lo tanto, aunque no uses fórmulas, si querés
% este tipo de numeración dejá el paquete amsmath descomentado).
%
\usepackage{amsmath}
\numberwithin{equation}{section}
\numberwithin{figure}{section}
\numberwithin{table}{section}
\usepackage{amssymb}

%
% Para tener cabecera y pie de página con un estilo personalizado:
%
\usepackage{fancyhdr}

%
% Para poner el texto "Figura X" en negrita:
% (Si no tenés el paquete 'caption2', probá con 'caption').
%
\usepackage[hang,bf]{caption2}

%
% Para poder usar subfiguras: (al estilo Figura 2.3(b) )
%
\usepackage{subfigure}

%
% Para poder agregar notas al pie en tablas:
%
%\usepackage{threeparttable}

%
% Para que ponga "Tabla" en lugar de "Cuadro":
%
\addto\captionsspanish{\def\tablename{Tabla}}

%
% Para incluir código fuente:
%
\usepackage{moreverb}
\usepackage{listings}
%
% Para tener secciones con interlineado controlable:
%
\usepackage{setspace}

%------------------------------ graphicx ----------------------------------
%
% Para incluir imágenes, el siguiente código carga el paquete graphicx 
% según se esté generando un archivo dvi o un pdf (con pdflatex). 
%

\newif\ifpdf
\ifx\pdfoutput\undefined
	\pdffalse
\else
	\pdfoutput=1
	\pdftrue
\fi

\ifpdf
	\usepackage[pdftex]{graphicx}
	\pdfcompresslevel=9
\else
	\usepackage[dvips]{graphicx}
\fi

\usepackage{epsfig}

%Directorio de imagenes
\newcommand{\imgdir}{images}
\graphicspath{{\imgdir/}}

%------------------------- Inicio del documento ---------------------------

\usepackage{url}
\usepackage{caratula}

\materia{75.06 Organización de Datos}
\submateria{Primer Cuatrimestre de 2007}
\titulo{Lector de feed RSS}
\subtitulo{Manual de usuario}
\grupo{Grupo 20}
\integrante{Colinas, Sergio}{84189}{scolinas@hotmail.com}
\integrante{Keena, Hernán}{84471}{hpk2987@yahoo.com.ar}
\integrante{Gonzales, Ramiro Javier}{84488}{ramirojgon@yahoo.com.ar}

\begin{document}

%
% Hago que en la cabecera de página se muestre a la derecha la sección,
% y en el pie, en número de página a la derecha:
%
\pagestyle{fancy}
\renewcommand{\sectionmark}[1]{\markboth{}{\thesection\ \ #1}}
\lhead{}
\chead{}
\rhead{\rightmark}
\lfoot{}
\cfoot{}
\rfoot{\thepage}

\maketitle

%
% Pongo el índice en una página aparte:
%
\tableofcontents
\newpage

%
% Inicio del TP:
%

\section{Requerimientos minimos}
Para poder utilizar nuestro lector de feeds RSS, los requerimientos mínimos de hardware son:

\begin{itemize}
 \item Procesador Intel o AMD compatible a 800Mhz
\end{itemize}

\begin{itemize}
 \item 256 Mb. RAM
\end{itemize}

\begin{itemize}
 \item 250 Mb. espacio libre en disco
\end{itemize}

\begin{itemize}
 \item Unidad de CD
\end{itemize}

\begin{itemize}
 \item Conexion a internet dial-up 56Kbps (Recomendado : Adsl o cablemodem)
\end{itemize}

\section{Dependencias}

\subsection{Sistema Operativo}
Linux

\subsection{Librerias necesarias}
Las dependencias y librerias que se deben instalar en el sistema operativo son:

\begin{itemize}
 \item curl version 7.15.5
\end{itemize}

\begin{itemize}
 \item libraptor version 1.4.13
\end{itemize}

\begin{itemize}
 \item libxml2 version 2.6.27
\end{itemize}

\begin{itemize}
 \item apache version 1.3.34
\end{itemize}

\begin{itemize}
 \item apache-perl version 1.3.34
\end{itemize}

\begin{itemize}
 \item libperl version 5.8.8
\end{itemize}

\section{Manual de instalación}
\subsection{Instalacion}
Para instalar la aplicación hay que copiar el directorio BubbleReader desde el cd-rom a una carpeta en el disco donde se desea instalar el programa. Luego ejecutar el archivo setup, ubicado en la carpeta BubbleReader, el mismo compilará toda los fuentes y dejara la aplicación lista para ejecutarse.
\subsection{Ejecución}
Para ejecutar BubbleReader hay que ejecutar el archivo server, ubicado en la carpeta BubbleReader/bin y por último abrir en un explorador el archivo principal.html, ubicado en la carpeta BubbleReader/web/html.
\subsection{Salida a XML}
Para exportar la información acumulada sobre los feeds RSS, en la consola donde se ejecuto el server, escribir el comando 'd' y luego presionar enter. El archivo XML con el formato especificado se creará en la carpeta bin/XML.

\section{Manejo de la interfaz web}

\subsection{Introducción}
La página web donde se ejecuta el lector de feeds RSS, posee los siguientes links:

\begin{itemize}
 \item Mostrar Feed: Muestra todos los artículos correspondientes al feed seleccionado.
\end{itemize}

\begin{itemize}
 \item Mostrar Label: Muestra los artículos correspondientes a la etiqueta seleccionada.
\end{itemize}

\begin{itemize}
 \item Agregar Feed: Abre la pagina desde donde se puede agregar una suscripción a un nuevo feed RSS.
\end{itemize}

\begin{itemize}
 \item Eliminar Feed: Abre la pagina desde donde se puede quitar la suscripción de un feed RSS.
\end{itemize}

\begin{itemize}
 \item Agregar Label: Abre la página desde donde se puede agregar una nueva etiqueta al sistema, sin asociarla a ningun artículo en particular.
\end{itemize}

\begin{itemize}
 \item Eliminar Label: Abre la página desde donde se puede quitar una etiqueta del sistema.
\end{itemize}

\begin{itemize}
 \item Actualizar Articulos: Actualiza con las últimas novedades de los feeds suscriptos.
\end{itemize}
\smallskip
Página Principal
\smallskip
\begin{center}
 \includegraphics[width=280pt,height=230pt]{principal.png}
\end{center}

\subsection{Mostrar Feed}
Muestra todos los artículos correspondientes al feed seleccionado. Haciendo click sobre el link del artículo, se puede acceder a la página oficial donde se encuentra el artículo completo. Desde aqui se puede agregar y eliminar etiquetas a cada artículo del feed haciendo click en los botones Agregar y Eliminar Label respectivamente.
\smallskip
\begin{center}
 \includegraphics[width=280pt,height=230pt]{art_feed.png}
\end{center}

\subsection{Mostrar Label}
Muestra los artículos correspondientes a la etiqueta seleccionada. Haciendo click sobre el link del artículo, se puede acceder a la página oficial donde se encuentra el artículo completo. Desde aqui se puede agregar y eliminar etiquetas a cada artículo del feed haciendo click en los botones Agregar y Eliminar Label respectivamente.
\smallskip
\begin{center}
 \includegraphics[width=280pt,height=230pt]{art_lab.png}
\end{center}

\subsection{Agregar Feed}
Para agregar una suscripción a un feed RSS, se debe introducir la URL correspondiente al feed que deseamos agregar y luego hacer click en el boton Agregar Feed.
\smallskip
\begin{center}
 \includegraphics[width=280pt,height=230pt]{addfeed.png}
\end{center}

\subsection{Eliminar Feed}
Para quitar una suscripción a un feed RSS, se debe seleccionar de la lista el feed a eliminar y luego hacer click en el boton Eliminar Feed.
\smallskip
\begin{center}
 \includegraphics[width=280pt,height=230pt]{rmvfeed.png}
\end{center}

\subsection{Agregar Label}
Para agregar una etiqueta al sistema, se debe introducir el nombre de la nueva etiqueta y luego hacer click en el boton Agregar Etiqueta.
\smallskip
\begin{center}
 \includegraphics[width=280pt,height=230pt]{addlabel.png}
\end{center}

\subsection{Eliminar Label}
Para quitar una etiqueta del sistema, se debe seleccionar la etiqueta a eliminar y luego hacer click en el boton Eliminar Label.
\smallskip
\begin{center}
 \includegraphics[width=280pt,height=230pt]{rmvlabel.png}
\end{center}

\subsection{Etiqueta Interesante}
Hay una etiqueta particular, que ya viene agregada al sistema por default. Es la etiqueta interesante, la cual sirve para que el usuario etiquete todos aquellos artículos que considere interesante. De modo que ademas de clasificar por las distintas etiquetas que crea el usuario va a clasificar a todos los artículos en general, como interesantes o no. De modo que el usuario podrá buscar los artículos por etiqueta y ademas contará con la predicción del clasificador acerca si el articulo es interesante o no.

\section{Módulo de persistencia}

\subsection{Introducción}
Para conseguir la persistencia de la información, utilizamos distintas estructuras de datos, que consideramos que mejor se adaptaban a las distíntas problematicas con las que nos fuimos enfrentando a medida que fuimos haciendo el dise?o.
\subsection{Archivos Utilizados}
A continuación, una breve descripción de los archivos que utilizamos y sus extructuras.
\subsubsection{Diccionario}
Construimos un diccionario con todas las palabras y sus frecuencias en las distintas etiquetas que el usuario va creando. El mismo es la base de conocimientos que utiliza el clasificador para realizar la clasificación automática. Nuestro diccionario se encuentra indexado por palabra utilizando un árbol B. 

Decidimos utilizar un árbol B en disco truncando las palabras a una máximo de 15 caracteres, ya que las consultas al diccionario por parte del clasificador son muy frecuentes. 

Como nuestro diccionario posee registros de tama?o variable, pues la cantidad de etiquetas que posee cada palabra puede variar a medida que va creciendo la base de conocimientos del clasificador, utilizamos una estructura de bloques de tama?o fijo (2048 bytes), para almacenar los registros de tama?o variable. Este tipo de estructura nos permite realizar las modificaciones de los bloques en memoria principal y luego subirlos a disco, además nos permite tener en memoria los bloques mas frecuentemente utilizados, a modo de memoria cache. Para el caso de registros que ocupan mas que lo que soporta un bloque, se utiliza la cantidad que fuera necesaria de bloques extra para poder almacenar el registro.

Estructura interna de los archivos utilizados:

\begin{itemize}
 \item Índice por palabra y archivo de bloques
\end{itemize}


\begin{center}
 \includegraphics[width=350pt,height=100pt]{diccionario.png}
\end{center}

\begin{itemize}
 \item Archivo administrativo, utilizado para el archivo de bloques
\end{itemize}


\begin{center}
 \includegraphics[width=180pt,height=50pt]{diccionario1.png}
\end{center}

\subsubsection{Archivo de feeds}
Contiene la información relativa la los feeds a los que el usuario se va suscribiendo, se organiza como un stream con registros de tamaño variable. Se encuentra indexado por IdFeed, utilizando un árbol B. 

Estructura interna de los archivos utilizados:

\begin{center}
 \includegraphics[width=300pt,height=120pt]{feed.png}
\end{center}


\subsubsection{Archivo de etiquetas}
Contiene la información referente a las etiquetas que el usuario va asignando a los artículos, se organiza como un stream con registros de tamaño variable. 

Este archivo esta doblemente indexado con árboles B. El primer índice se utiliza para obtener la información de una etiqueta a través del nombre y el segundo a través del IdEtiqueta.

Estructura interna de los archivos utilizados:

\begin{center}
 \includegraphics[width=350pt,height=90pt]{etiqueta.png}
\end{center}


\subsubsection{Arhivos de artículos}
Al intentar acceder a los artículos, las búsquedas que hace el usuario pueden ser directas (conozco el artículo que busco) o no directas (artículos que cumplen con un criterio).
El programa ofrece dos posibilidades en cuanto a la búsqueda no directa de artículos. La primera es buscar los artículos de un feed determinado desde el más actual para atrás y la segunda es buscar los artículos con una determinada etiqueta.

Para hacer las búsquedas eficientemente se definen tres estructuras:

\begin{description}
 \item[Estructura Principal:]contiene todos los artículos para un determinado feed, por lo que existirá un archivo con esta estructura para cada feed. Para acceder a un artículo se usa el offset. El objetivo de separar los artículos para cada feed es que los mismos estén ordenados por fecha de publicación lo que optimiza la búsqueda secuencial. Otra ventaja es que al eliminar un feed no hay que rehacer los índices, solo modificarlos.
 \item[Índice Feed:]este índice se utiliza para encontrar las etiquetas que fueron asignadas a un artículo. Consiste en dos archivos:
\begin{itemize}
 \item IndiceA: un árbol B+ ordenado por IdFeed y OffsetArticulo 
\end{itemize}
\begin{itemize}
 \item RegistrosA: archivo de registros donde se guardaran las etiquetas de cada artículo. Para encontrar en que bloque están las etiquetas se busca en el índice B+.
\end{itemize}
 \item[Índice Etiquetas:]para optimizar la búsqueda de artículos que tienen asignada una etiqueta (Ej: tenis) se crea otro índice que guarda los artículos de esa etiqueta agrupados en un registro, como puede haber muchos de estos artículos se divide los registros en intervalos de fechas. 
\begin{itemize}
 \item IndiceB: Es un árbol B+, que permite buscar por IdEtiqueta y fecha devolverá un bloque. 
\end{itemize}
\begin{itemize}
 \item RegistrosB: En el bloque habrá registros con todos los artículos de esa etiqueta que están en un intervalo de fechas. Este intervalo contiene a la fecha buscada.
\end{itemize}
El índice etiquetas es igual al anterior por lo que se reutilizara el código y solo se modificaran los campos que contienen.
 \end{description}

Estructura interna de los archivos utilizados:

\begin{itemize}
 \item Principal:
\end{itemize}

\begin{center}
 \includegraphics[width=300pt,height=25pt]{articulo_ppal.png}
\end{center}

\begin{itemize}
 \item Índice Feed:
\end{itemize}

\begin{center}
 \includegraphics[width=380pt,height=130pt]{articulo_feed.png}
\end{center}

\begin{itemize}
 \item Índice Etiquetas:
\end{itemize}

\begin{center}
 \includegraphics[width=380pt,height=130pt]{articulo_etiqueta.png}
\end{center}

\section{Modulo de salida a XML}
El servidor posee un comando especial que se utiliza para pedirle que exporte la información acumulada sobre los feeds RSS. El comando utilizado para estos fines es 'd'. Luego de recibir este comando, el servidor recorre su base de datos y genera un archivo XML, que contiene para cada feed, la URL, los títulos de los artículos y las etiquetas de cada artículo.
\smallskip
Un ejemplo del archivo XML
\smallskip
\lstset{language=xml,basicstyle=\small,showstringspaces=false,columns=fullflexible,frame=lines,tabsize=1,inputencoding=latin1,extendedchars=true}
\lstinputlisting{extras/example.xml}
\smallskip
Luego de generar el XML, el servidor valida que el formato del mismo respete el anterior mostrado. Para ello se vale de un archivo schema.
\smallskip
\lstset{language=xml,basicstyle=\small,showstringspaces=false,columns=fullflexible,frame=lines,tabsize=1,inputencoding=latin1,extendedchars=true}
\lstinputlisting{extras/rss-dump.xsd}
\end{document}

